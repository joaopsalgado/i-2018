/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.github.joaopsalgado.integracao.atvsp12

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.OutputStream;
import java.io.Serializable;
import serealize.Serealize.Dados;

/**
 *
 * @author JoaoPedroSalgado
 */
public class Serealizacao {
     
    public static void main(String[] args) throws IOException, ClassNotFoundException {
     //Instanciando a classe Dados e atribuindo valores aos objetos
       
       Dados dd = new Dados();
        dd.setNome("Joao");
        dd.setIdade(20);
        dd.setEscolaridade("EnsinoSuperior");
        gravarDados(dd, "Arquivo.txt");
        
        String nvDados = reverter("Dados.txt");
        
           }
    
//Gravacao de Dados
    private static void gravarDados(Dados arquivo, Serializable s) throws IOException {
        FileInputStream fileInput = new FileInputStream(arquivo);{
        OutputStream fileOut = null;
        ObjectOutputStream out = new ObjectOutputStream(fileOut);
        out.writeObject(s);
        out.close();
        }
     }
    //Reverte os dadaos gravados na saida do arquivo e mostra a deserealizacao
    private static String reverter(String arquivo) throws IOException, ClassNotFoundException{
        String arquivo = null;
        FileInputStream fileInput = new FileInputStream(arquivo);
        ObjectInputStream in = new ObjectInputStream(fileInput);
        in.close();
        fileInput.close();
        return arquivo;
    }

}
